# 作业26：[[虚拟内存]]

## 问答题

填写表格。需要利用一系列的单位：$K = 2^{10}, M=2^{20}, G=2^{30}, T=2^{40}, P=2^{50}, E=2^{60}$

| 虚拟地址位数 | 虚拟地址数                             | 最大可能得虚拟地址         |
| :----- | --------------------------------- | ----------------- |
| $8$    | $2^8=16$                          | $15$              |
| $16$   | $2^{16} = 64 K=2^6 \times 2^{10}$ | $2^{16}-1=64K-1$  |
| $32$   | $2^{32}$                          | $2^{32}-1=4G-1$   |
| $48$   | $2^{48} = 256T=2^8\times 2^{40}$  | $2^{48}-1=256T-1$ |
| $64$   | $2^{64}=16E$                      | $2^{64}-1=16E-1$  |

---

虚拟地址翻译：参考 [[虚拟内存#地址翻译#综合：端到端的地址翻译示例]] 中的内存系统是如何将一个虚拟地址翻译成一个物理地址和访问缓存的

对于给定的虚拟地址 `0x03d7`，指明访问的 TLB 条目、物理地址和返回的缓存字节值。指出是否发生了TLB不命中，是否发生了缺页，以及是否发生了缓存不命中。如果是缓存不命中，在“返回的缓存字节”栏中输入“—"。如果有缺页，则在“PPN"一栏中输入“—“，并且将C部分和D部分空着。

下图展示了 虚拟地址 `0x03d7` 的格式

![[Pasted image 20241028222119.png]]


| 参数           | 值      |
| :----------- | :----- |
| VPN          | `0x0F` |
| TLBI         | `0x3`  |
| TLBT         | `0x3`  |
| TLB 命中？(是/否) | 命中     |
| 缺页？(是/否)     | 否      |
| PPN          | `0x0d` |

下图展示了物理地址的格式

![[Pasted image 20241028223031.png]]

| 参数         | 值      |
| :--------- | :----- |
| CO         | `0x3`  |
| CI         | `0x5`  |
| CT         | `0x0d` |
| 缓存命中？(是/否) | 命中     |
| 返回的缓存字节    | `0x1d` |


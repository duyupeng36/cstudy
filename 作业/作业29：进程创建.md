# 作业29：[[进程创建]]

## 问答题

程序在执行完如下一系列 fork()调用后会产生多少新进程（假定没有调用失败）？

```c
fork();  // 被调用一次 2^0
fork();  // 被调用两次 2^1
fork();  // 被调用四次 2^2
```

下图展示整个创建过程

![[Pasted image 20241102232941.png]]

> [!important] 
> 
> 假设连续调用 $n$ 次 `fork()`，第 $i$ 次调用的 `fork()` 总共会被调用 $2^{i-1}$。由于`fork()` 每被调用一次就会创建一个新进程。因此连续调用 $n$ 次 `fork()` 会创建
> 
> $$
> \sum_{i=1}^{n} 2^{i-1} = 2^{0}\times \frac{2^n-1}{2-1} = 2^n - 1
> $$
> 
